

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Introduction &mdash; InstrumentKit Library 1.0alpha1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0alpha1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="InstrumentKit Library 1.0alpha1 documentation" href="index.html" />
    <link rel="next" title="InstrumentKit API Reference" href="apiref/index.html" />
    <link rel="prev" title="Welcome to InstrumentKit Library’s documentation!" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="apiref/index.html" title="InstrumentKit API Reference"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to InstrumentKit Library’s documentation!"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">InstrumentKit Library 1.0alpha1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h1>
<p><strong>InstrumentKit</strong> allows for the control of scientific instruments in a
platform-independent manner, abstracted from the details of how the instrument
is connected. In particular, InstrumentKit supports connecting to instruments
via serial port (including USB-based virtual serial connections), GPIB, USBTMC,
TCP/IP or by using the VISA layer.</p>
<div class="section" id="installing">
<h2>Installing<a class="headerlink" href="#installing" title="Permalink to this headline">¶</a></h2>
<div class="section" id="dependencies">
<h3>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h3>
<p>Most of the required and optional dependencies can be obtained using
<tt class="docutils literal"><span class="pre">easy_install</span></tt> or <tt class="docutils literal"><span class="pre">pip</span></tt> (preferred).</p>
<div class="section" id="required-dependencies">
<h4>Required Dependencies<a class="headerlink" href="#required-dependencies" title="Permalink to this headline">¶</a></h4>
<p>If you&#8217;re using <tt class="docutils literal"><span class="pre">pip</span></tt>, these requirements can be obtained automatically
by using the provided <tt class="docutils literal"><span class="pre">requirements.txt</span></tt>:</p>
<div class="highlight-python"><pre>$ pip install -r requirements.txt</pre>
</div>
<ul class="simple">
<li>NumPy</li>
<li><a class="reference external" href="http://pyserial.sourceforge.net/">PySerial</a></li>
<li><a class="reference external" href="http://pythonhosted.org/quantities/">quantities</a></li>
<li><a class="reference external" href="http://pythonhosted.org/flufl.enum/">flufl.enum</a> version 4.0 or later</li>
</ul>
</div>
<div class="section" id="optional-dependencies">
<h4>Optional Dependencies<a class="headerlink" href="#optional-dependencies" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><a class="reference external" href="https://bitbucket.org/xi/pyyaml">PyYAML</a> (required for configuration file support)</li>
<li><a class="reference external" href="http://sourceforge.net/apps/trac/pyusb/">PyUSB</a> (version 1.0a or higher, required for raw USB support)</li>
<li><a class="reference external" href="http://pyvisa.sourceforge.net/">PyVISA</a> (required for accessing instruments via VISA library)</li>
</ul>
</div>
</div>
</div>
<div class="section" id="getting-started">
<h2>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>
<div class="section" id="instruments-and-instrument-classes">
<h3>Instruments and Instrument Classes<a class="headerlink" href="#instruments-and-instrument-classes" title="Permalink to this headline">¶</a></h3>
<p>Each make and model of instrument that is supported by InstrumentKit is
represented by a specific class, as documented in the <a class="reference internal" href="apiref/index.html#apiref"><em>InstrumentKit API Reference</em></a>.
Instruments that offer common functionality, such as multimeters, are
represented by base classes, such that specific instruments can be exchanged
without affecting code, so long as the proper functionality is provided.</p>
<p>For some instruments, a specific instrument class is not needed, as the
<a class="reference internal" href="apiref/generic_scpi.html#apiref-generic-scpi"><em>Generic SCPI Instruments</em></a> classes can be used to expose functionality of these
instruments. If you don&#8217;t see your specific instrument listed, then, please
check in the instrument&#8217;s manual whether it uses a standard set of SCPI
commands.</p>
</div>
<div class="section" id="connecting-to-instruments">
<h3>Connecting to Instruments<a class="headerlink" href="#connecting-to-instruments" title="Permalink to this headline">¶</a></h3>
<p>Each instrument class in InstrumentKit is constructed using a <em>communicator</em>
class that wraps a file-like object with additional information about newlines,
terminators and other useful details. Most of the time, it is easiest to not
worry with creating communicators directly, as convienence methods are provided
to quickly connect to instruments over a wide range of common communication
protocols and physical connections.</p>
<p>For instance, to connect to a generic SCPI-compliant multimeter using a
<a class="reference external" href="http://galvant.ca/shop/gpibusb/">Galvant Industries GPIB-USB adapter</a>, the
<a class="reference internal" href="apiref/instrument.html#instruments.Instrument.open_gpibusb" title="instruments.Instrument.open_gpibusb"><tt class="xref py py-obj docutils literal"><span class="pre">open_gpibusb</span></tt></a> method can be used:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">instruments</span> <span class="kn">as</span> <span class="nn">ik</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inst</span> <span class="o">=</span> <span class="n">ik</span><span class="o">.</span><span class="n">generic_scpi</span><span class="o">.</span><span class="n">SCPIMultimeter</span><span class="o">.</span><span class="n">open_gpibusb</span><span class="p">(</span><span class="s">&#39;/dev/ttyUSB0&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>Similarly, many instruments connected by USB use an FTDI or similar chip to
emulate serial ports, and can be connected using the
<a class="reference internal" href="apiref/instrument.html#instruments.Instrument.open_serial" title="instruments.Instrument.open_serial"><tt class="xref py py-obj docutils literal"><span class="pre">open_serial</span></tt></a> method by specifying the serial port
device file (on Linux) or name (on Windows) along with the baud rate of the
emulated port:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">inst</span> <span class="o">=</span> <span class="n">ik</span><span class="o">.</span><span class="n">generic_scpi</span><span class="o">.</span><span class="n">SCPIMultimeter</span><span class="o">.</span><span class="n">open_serial</span><span class="p">(</span><span class="s">&#39;COM10&#39;</span><span class="p">,</span> <span class="mi">115200</span><span class="p">)</span>
</pre></div>
</div>
<p>As a convienence, an instrument connection can also be specified using a
uniform resource identifier (URI) string:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">inst</span> <span class="o">=</span> <span class="n">ik</span><span class="o">.</span><span class="n">generic_scpi</span><span class="o">.</span><span class="n">SCPIMultimeter</span><span class="o">.</span><span class="n">open_from_uri</span><span class="p">(</span><span class="s">&#39;tcpip://192.168.0.10:4100&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Instrument connection URIs of this kind are useful for storing in configuration
files, as the same method, <a class="reference internal" href="apiref/instrument.html#instruments.Instrument.open_from_uri" title="instruments.Instrument.open_from_uri"><tt class="xref py py-obj docutils literal"><span class="pre">open_from_uri</span></tt></a>, is used,
regardless of the communication protocol and physical connection being used.
InstrumentKit provides special support for this usage, and can load instruments
from specifications listed in a YAML-formatted configuration file. See the
<a class="reference internal" href="apiref/config.html#instruments.load_instruments" title="instruments.load_instruments"><tt class="xref py py-obj docutils literal"><span class="pre">load_instruments</span></tt></a> function for more details.</p>
</div>
<div class="section" id="using-connected-instruments">
<h3>Using Connected Instruments<a class="headerlink" href="#using-connected-instruments" title="Permalink to this headline">¶</a></h3>
<p>Once connected, functionality of each instrument is exposed by methods and
properties of the instrument object. For instance, the name of an instrument
can be queried by getting the <tt class="docutils literal"><span class="pre">name</span></tt> property:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">inst</span><span class="o">.</span><span class="n">name</span>
</pre></div>
</div>
<p>For details of how to use each instrument, please see the <a class="reference internal" href="apiref/index.html#apiref"><em>InstrumentKit API Reference</em></a> entry
for that instrument&#8217;s class. If that class does not implement a given command,
raw commands and queries can be issued by using the
<a class="reference internal" href="apiref/instrument.html#instruments.Instrument.sendcmd" title="instruments.Instrument.sendcmd"><tt class="xref py py-obj docutils literal"><span class="pre">sendcmd</span></tt></a> and <a class="reference internal" href="apiref/instrument.html#instruments.Instrument.query" title="instruments.Instrument.query"><tt class="xref py py-obj docutils literal"><span class="pre">query</span></tt></a> methods,
respectively:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">inst</span><span class="o">.</span><span class="n">sendcmd</span><span class="p">(</span><span class="s">&#39;DATA&#39;</span><span class="p">)</span> <span class="c"># Send command with no response</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">resp</span> <span class="o">=</span> <span class="n">inst</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s">&#39;*IDN?&#39;</span><span class="p">)</span> <span class="c"># Send command and retrieve response</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="os-specific-instructions">
<h2>OS-Specific Instructions<a class="headerlink" href="#os-specific-instructions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="linux">
<h3>Linux<a class="headerlink" href="#linux" title="Permalink to this headline">¶</a></h3>
<div class="section" id="raw-usb-device-configuration">
<h4>Raw USB Device Configuration<a class="headerlink" href="#raw-usb-device-configuration" title="Permalink to this headline">¶</a></h4>
<p>To enable writing to a USB device in raw or usbtmc mode, the device file
must be readable writable by users. As this is not normally the default, you
need to add rules to <tt class="docutils literal"><span class="pre">/etc/udev/rules.d</span></tt> to override the default permissions.
For instance, to add a Tektronix DPO 4104 oscilloscope with world-writable
permissions, add the following to rules.d:</p>
<div class="highlight-python"><pre>ATTRS{idVendor}=="0699", ATTRS{idProduct}=="0401", SYMLINK+="tekdpo4104", MODE="0666"</pre>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This configuration causes the USB device to be world-writable. Do not do
this on a multi-user system with untrusted users.</p>
</div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Introduction</a><ul>
<li><a class="reference internal" href="#installing">Installing</a><ul>
<li><a class="reference internal" href="#dependencies">Dependencies</a><ul>
<li><a class="reference internal" href="#required-dependencies">Required Dependencies</a></li>
<li><a class="reference internal" href="#optional-dependencies">Optional Dependencies</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#getting-started">Getting Started</a><ul>
<li><a class="reference internal" href="#instruments-and-instrument-classes">Instruments and Instrument Classes</a></li>
<li><a class="reference internal" href="#connecting-to-instruments">Connecting to Instruments</a></li>
<li><a class="reference internal" href="#using-connected-instruments">Using Connected Instruments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#os-specific-instructions">OS-Specific Instructions</a><ul>
<li><a class="reference internal" href="#linux">Linux</a><ul>
<li><a class="reference internal" href="#raw-usb-device-configuration">Raw USB Device Configuration</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Welcome to InstrumentKit Library&#8217;s documentation!</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="apiref/index.html"
                        title="next chapter">InstrumentKit API Reference</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/intro.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="apiref/index.html" title="InstrumentKit API Reference"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to InstrumentKit Library’s documentation!"
             >previous</a> |</li>
        <li><a href="index.html">InstrumentKit Library 1.0alpha1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Steven Casagrande.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>